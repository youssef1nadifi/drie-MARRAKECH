<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <script data-noptimize="1" data-cfasync="false" data-wpfc-render="false">
  (function () {
      var script = document.createElement("script");
      script.async = 1;
      script.src = 'https://emrldtp.cc/NDg1MjM4.js?t=485238';
      document.head.appendChild(script);
  })();
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YN Drive | Luxury Car Rental Marrakesh</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700;800&family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">

    <!-- Config for Custom Colors -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gold: {
                            100: '#FFF9E5',
                            200: '#FCEFC0',
                            300: '#F5D782',
                            400: '#EBC15C',
                            500: '#D4AF37', /* Primary Gold */
                            600: '#B38B18',
                            700: '#8F6B0D',
                            glow: '#FFD700'
                        },
                        royal: {
                            950: '#000000', /* True Black */
                            900: '#0A0A0A', /* Rich Black */
                            800: '#141414', /* Card Black */
                            700: '#1F1F1F',
                        },
                        cream: {
                            50: '#FFFEFA',
                            100: '#FDFBF7', /* Luxurious Cream */
                        }
                    },
                    backgroundImage: {
                        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            --gold-primary: #D4AF37;
            --midnight: #000000;
        }

        body {
            font-family: 'Outfit', sans-serif;
            overflow-x: hidden;
            background-color: #FDFBF7; /* Cream background */
        }

        body.rtl {
            font-family: 'Tajawal', sans-serif;
        }

        /* Scroll Reveal Animation Classes */
        .reveal-section {
            opacity: 0;
            transform: translateY(40px);
            transition: all 1s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        
        .reveal-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Luxurious Gold Gradient Button */
        .btn-gold {
            background: linear-gradient(45deg, #B38B18 0%, #D4AF37 50%, #F5D782 100%);
            background-size: 200% auto;
            color: #000;
            border: none;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4);
        }
        
        .btn-gold:hover {
            background-position: right center;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.6);
        }

        /* Shimmer Effect */
        .shimmer-btn {
            position: relative;
            overflow: hidden;
        }
        .shimmer-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 200%;
            height: 100%;
            background: linear-gradient(to right, transparent, rgba(255,255,255,0.6), transparent);
            transform: skewX(-20deg);
            transition: 0.5s;
        }
        .shimmer-btn:hover::after {
            left: 100%;
            transition: 0.7s ease-in-out;
        }

        /* Ken Burns Background */
        @keyframes kenBurns {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }
        .animate-ken-burns { animation: kenBurns 20s ease-out infinite alternate; }

        /* Luxurious Text Gradient */
        .text-gradient {
            background: linear-gradient(to right, #F5D782, #D4AF37, #B38B18);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; border: 1px solid #111; }
        ::-webkit-scrollbar-thumb:hover { background: #D4AF37; }

        /* Refined Glassmorphism */
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(212, 175, 55, 0.2); /* Subtle Gold Border */
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        .glass-dark {
            background: rgba(10, 10, 10, 0.9);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
        }
        
        /* Card Hover Glow */
        .card-hover-glow {
            transition: all 0.4s ease;
            border: 1px solid rgba(255,255,255,0.05);
        }
        .card-hover-glow:hover {
            border-color: #D4AF37;
            box-shadow: 0 0 25px rgba(212, 175, 55, 0.2);
            transform: translateY(-5px);
        }
        
        /* Preloader Transition */
        #preloader {
            transition: opacity 1s ease-out;
        }
        #preloader.fade-out {
            opacity: 0;
            pointer-events: none;
        }
        
        /* Hide/Show logic */
        .view-section {
            display: none;
            animation: fadeIn 0.6s ease-out;
        }
        .view-section.active {
            display: block;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* WhatsApp Button Animation */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(37, 211, 102, 0); }
            100% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); }
        }
        .whatsapp-pulse {
            animation: pulse-green 2s infinite;
        }
    </style>
</head>
<body class="bg-cream-100 text-royal-900 selection:bg-gold-500 selection:text-white">

    <!-- PRELOADER -->
    <div id="preloader" class="fixed inset-0 z-[60] bg-royal-950 flex flex-col items-center justify-center">
        <div class="relative">
            <div class="w-24 h-24 border-2 border-royal-800 rounded-full animate-spin"></div>
            <div class="w-24 h-24 border-t-2 border-gold-500 rounded-full animate-spin absolute top-0 left-0 shadow-[0_0_15px_rgba(212,175,55,0.5)]"></div>
            <div class="absolute inset-0 flex items-center justify-center">
                <span class="text-gold-500 font-black text-2xl animate-pulse">YN</span>
            </div>
        </div>
        <div class="mt-6 text-gold-500 font-bold tracking-[0.5em] text-xs animate-pulse uppercase">YN Drive</div>
    </div>

    <!-- WHATSAPP FLOATING BUTTON -->
    <div class="fixed bottom-8 right-8 z-50 flex items-center gap-4 group">
        <!-- Tooltip -->
        <div class="bg-white px-4 py-2 rounded-xl shadow-xl border border-gold-200 transform translate-x-4 opacity-0 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300 hidden md:block">
            <p class="text-royal-900 font-bold text-sm whitespace-nowrap" data-i18n="nav.help">Need help? Chat with us!</p>
        </div>
        
        <!-- Button -->
        <button onclick="openGeneralWhatsApp()" class="w-16 h-16 bg-[#25D366] rounded-full flex items-center justify-center shadow-2xl hover:scale-110 transition-transform whatsapp-pulse cursor-pointer border-2 border-white/20">
            <svg width="35" height="35" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
            </svg>
        </button>
    </div>

    <!-- NAVBAR -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-500 bg-transparent py-6">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="flex justify-between items-center">
                <!-- Logo -->
                <div onclick="switchView('home')" class="flex items-center gap-3 cursor-pointer group">
                    <div class="w-12 h-12 bg-black rounded-xl flex items-center justify-center shadow-lg shadow-gold-500/20 border border-gold-500/30 transform group-hover:rotate-45 transition-transform duration-500">
                        <span class="text-gold-500 font-black text-xl transform group-hover:-rotate-45 transition-transform duration-500">YN</span>
                    </div>
                    <div class="flex flex-col">
                        <span class="text-2xl font-bold text-white tracking-widest leading-none" style="text-shadow: 0 2px 10px rgba(0,0,0,0.5);"></span>
                        <span class="text-[10px] text-gold-500 font-bold tracking-[0.4em] group-hover:tracking-[0.6em] transition-all duration-500 uppercase">Luxury</span>
                    </div>
                </div>

                <!-- Desktop Nav -->
                <div class="hidden md:flex items-center space-x-10 rtl:space-x-reverse">
                    <button onclick="switchView('home')" class="text-sm font-bold text-gray-200 hover:text-gold-400 relative group py-2 uppercase tracking-wide transition-colors">
                        <span data-i18n="nav.home">Home</span>
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gold-500 transition-all duration-300 group-hover:w-full box-shadow-[0_0_10px_#D4AF37]"></span>
                    </button>
                    <button onclick="switchView('fleet')" class="text-sm font-bold text-gray-200 hover:text-gold-400 relative group py-2 uppercase tracking-wide transition-colors">
                        <span data-i18n="nav.fleet">The Collection</span>
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gold-500 transition-all duration-300 group-hover:w-full"></span>
                    </button>
                    <button onclick="switchView('services')" class="text-sm font-bold text-gray-200 hover:text-gold-400 relative group py-2 uppercase tracking-wide transition-colors">
                        <span data-i18n="nav.services">Concierge</span>
                        <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gold-500 transition-all duration-300 group-hover:w-full"></span>
                    </button>
                    
                    <button onclick="toggleLanguage()" class="px-5 py-2 rounded-full border border-gray-600 text-xs font-bold text-gray-300 hover:border-gold-500 hover:text-gold-500 transition-all flex items-center gap-2 hover:bg-black/30">
                        <i data-lucide="globe" width="14"></i> <span id="lang-label">العربية</span>
                    </button>
                </div>

                <!-- Mobile Toggle -->
                <button class="md:hidden text-white hover:text-gold-500 transition-colors" onclick="toggleMobileMenu()">
                    <i data-lucide="menu" width="28"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu Overlay -->
        <div id="mobile-menu" class="hidden absolute top-full left-0 w-full glass-dark border-t border-royal-800 p-6 flex flex-col gap-4 shadow-2xl">
            <button onclick="switchView('home')" class="text-left text-gray-200 font-bold py-4 border-b border-royal-800 hover:text-gold-500 transition-colors" data-i18n="nav.home">Home</button>
            <button onclick="switchView('fleet')" class="text-left text-gray-200 font-bold py-4 border-b border-royal-800 hover:text-gold-500 transition-colors" data-i18n="nav.fleet">The Collection</button>
            <button onclick="switchView('services')" class="text-left text-gray-200 font-bold py-4 border-b border-royal-800 hover:text-gold-500 transition-colors" data-i18n="nav.services">Concierge</button>
            <button onclick="toggleLanguage()" class="text-left text-gold-500 font-bold py-4 flex items-center gap-2">
                <i data-lucide="globe" width="16"></i> Switch Language
            </button>
        </div>
    </nav>

    <!-- HOME VIEW -->
    <div id="home-view" class="view-section active">
        <!-- Hero Section -->
        <div class="relative h-screen min-h-[800px] flex items-center justify-center overflow-hidden bg-royal-950">
            <div class="absolute inset-0 z-0">
                <!-- Richer Gradient -->
                <div class="absolute inset-0 bg-gradient-to-b from-black/30 via-royal-900/60 to-royal-950 z-10"></div>
                <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gold-500/10 via-transparent to-transparent z-10 opacity-50"></div>
                <img src="https://i.pinimg.com/1200x/73/04/63/73046392569041baa620582390f9db61.jpg" class="w-full h-full object-cover animate-ken-burns opacity-60" alt="Luxury Car">
            </div>

            <div class="relative z-20 max-w-7xl mx-auto px-6 text-center md:text-start w-full reveal-section">
                <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full border border-gold-500/40 bg-black/40 backdrop-blur-md mb-8 shadow-[0_0_20px_rgba(212,175,55,0.1)]">
                    <i data-lucide="sparkles" class="text-gold-400 animate-pulse" width="14"></i>
                    <span class="text-gold-300 text-xs font-bold tracking-[0.2em] uppercase" data-i18n="hero.tag">Premium Car Marrakesh</span>
                </div>
                
                <h1 id="hero-title" class="text-6xl md:text-8xl font-black text-white mb-8 leading-[1.1] tracking-tight drop-shadow-2xl">
                    Drive the <br/><span class="text-gradient">Extraordinary</span>
                </h1>
                
                <p class="text-lg md:text-2xl text-gray-300 mb-12 font-light leading-relaxed max-w-2xl border-l-2 border-gold-500/50 pl-6" data-i18n="hero.subtitle">
                    From the roar of a Ferrari to the silence of a Rolls-Royce. We curate the finest fleet for the world's most demanding drivers.
                </p>

                <div class="flex flex-col md:flex-row gap-6">
                    <button onclick="switchView('fleet')" class="shimmer-btn btn-gold text-black px-10 py-5 rounded-2xl font-bold text-lg hover:scale-105 transition-all flex items-center justify-center gap-3">
                        <span data-i18n="hero.cta">Explore Collection</span> <i data-lucide="arrow-right"></i>
                    </button>
                </div>
                
                <!-- Search Bar -->
                <div class="mt-20 hidden md:block reveal-section" style="transition-delay: 300ms;">
                    <div class="glass-card p-3 rounded-3xl flex items-center gap-3 max-w-4xl bg-black/40 border-white/5 backdrop-blur-xl shadow-2xl">
                        <div class="flex-1 bg-white/5 rounded-2xl px-8 py-5 flex items-center gap-5 hover:bg-white/10 transition-colors cursor-pointer group border border-transparent hover:border-gold-500/30">
                            <i data-lucide="map-pin" class="text-gold-500 group-hover:scale-110 transition-transform"></i>
                            <div>
                                <div class="text-[10px] text-gold-400 uppercase tracking-widest font-bold mb-1">Pick-up Location</div>
                                <div class="text-white font-bold text-lg" data-i18n="hero.search_loc">Marrakech, Morocco</div>
                            </div>
                        </div>
                        <div class="w-px h-12 bg-white/10"></div>
                        <div class="flex-1 bg-white/5 rounded-2xl px-8 py-5 flex items-center gap-5 hover:bg-white/10 transition-colors cursor-pointer group border border-transparent hover:border-gold-500/30">
                            <i data-lucide="calendar-days" class="text-gold-500 group-hover:scale-110 transition-transform"></i>
                            <div>
                                <div class="text-[10px] text-gold-400 uppercase tracking-widest font-bold mb-1">Rental Period</div>
                                <div class="text-white font-bold text-lg" data-i18n="hero.search_date">Select Dates</div>
                            </div>
                        </div>
                        <button onclick="switchView('fleet')" class="btn-gold h-full aspect-square rounded-2xl flex items-center justify-center text-black shadow-lg hover:rotate-90 transition-all duration-500">
                            <i data-lucide="search" width="28" class="text-black"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Services Section -->
        <div class="py-32 bg-cream-100 relative overflow-hidden">
             <!-- Decorative elements -->
             <div class="absolute top-0 right-0 w-[800px] h-[800px] bg-gold-200/20 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/3"></div>
             <div class="absolute bottom-0 left-0 w-[600px] h-[600px] bg-gray-200/40 rounded-full blur-[100px] translate-y-1/3 -translate-x-1/3"></div>
             
             <div class="max-w-7xl mx-auto px-6 relative z-10">
                <div class="text-center mb-20 reveal-section">
                    <span class="text-gold-600 font-bold tracking-[0.2em] text-sm uppercase mb-3 block">Why Choose Us</span>
                    <h2 class="text-5xl font-black text-royal-900 mb-6" data-i18n="services.title">Beyond Rental</h2>
                    <div class="flex justify-center gap-2">
                        <div class="w-2 h-2 rounded-full bg-gold-500"></div>
                        <div class="w-16 h-2 rounded-full bg-gold-500"></div>
                        <div class="w-2 h-2 rounded-full bg-gold-500"></div>
                    </div>
                </div>
                <div id="services-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Services Injected via JS -->
                </div>
             </div>
        </div>

        <!-- Fleet Preview Section -->
        <div class="py-32 bg-royal-950 text-white relative border-t border-white/5">
            <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"></div>
            <div class="max-w-7xl mx-auto px-6 relative z-10">
                <div class="flex flex-col md:flex-row justify-between items-end mb-20 gap-8 reveal-section">
                    <div>
                        <span class="text-gold-500 font-bold tracking-[0.2em] text-sm uppercase mb-3 block">Exclusive Selection</span>
                        <h2 class="text-5xl md:text-6xl font-black mb-6" data-i18n="fleet.title">The Royal Fleet</h2>
                        <p class="text-gray-400 max-w-md text-lg font-light leading-relaxed" data-i18n="fleet.subtitle">Meticulously maintained. Delivered to your door.</p>
                    </div>
                    <button onclick="switchView('fleet')" class="group text-gold-400 font-bold uppercase tracking-widest text-sm flex items-center gap-3 py-3 px-6 border border-gold-500/30 rounded-full hover:bg-gold-500 hover:text-black transition-all duration-300">
                        View Full Collection <i data-lucide="arrow-right" class="group-hover:translate-x-1 transition-transform"></i>
                    </button>
                </div>
                
                <div id="home-fleet-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                    <!-- Cars Injected via JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- FLEET VIEW -->
    <div id="fleet-view" class="view-section pt-24 bg-royal-950 min-h-screen text-white">
        <div class="py-24 relative">
             <div class="absolute top-0 left-0 w-full h-96 bg-gradient-to-b from-black to-transparent opacity-80 z-0"></div>
            <div class="max-w-7xl mx-auto px-6 relative z-10">
                 <div class="text-center mb-20">
                    <span class="text-gold-500 font-bold tracking-[0.3em] text-xs uppercase mb-4 block">Our Garage</span>
                    <h2 class="text-5xl md:text-7xl font-black mb-8" data-i18n="fleet.title">The Royal Fleet</h2>
                    <div class="w-24 h-1 bg-gradient-to-r from-transparent via-gold-500 to-transparent mx-auto"></div>
                </div>
                <div id="full-fleet-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                    <!-- Cars Injected via JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- SERVICES (CONCIERGE) VIEW -->
    <div id="services-view" class="view-section pt-24 bg-royal-950 min-h-screen text-white">
        <div class="py-24 relative">
             <div class="absolute top-0 left-0 w-full h-96 bg-gradient-to-b from-black to-transparent opacity-80 z-0"></div>
             <!-- Background Texture -->
             <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/black-linen.png')] opacity-20"></div>

            <div class="max-w-7xl mx-auto px-6 relative z-10">
                 <div class="text-center mb-20">
                    <span class="text-gold-500 font-bold tracking-[0.3em] text-xs uppercase mb-4 block" data-i18n="services_page.tag">Exclusive Services</span>
                    <h2 class="text-5xl md:text-7xl font-black mb-8" data-i18n="services_page.title">VIP Concierge</h2>
                    <p class="text-gray-400 max-w-2xl mx-auto text-lg" data-i18n="services_page.subtitle">Experience seamless luxury mobility. From the tarmac to your destination, we handle every detail.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-16">
                    <!-- Service 1: Airport Pickup -->
                    <div class="group relative bg-royal-900 rounded-[2.5rem] overflow-hidden border border-royal-800 hover:border-gold-500/50 transition-all duration-500">
                        <div class="absolute inset-0">
                            <img src="https://i.pinimg.com/736x/21/5d/4f/215d4f305f81e35d105658097b833215.jpg" class="w-full h-full object-cover opacity-40 group-hover:scale-105 transition-transform duration-700">
                            <div class="absolute inset-0 bg-gradient-to-t from-royal-900 via-royal-900/50 to-transparent"></div>
                        </div>
                        <div class="relative p-10 flex flex-col h-full min-h-[400px] justify-end">
                            <div class="w-16 h-16 bg-gold-500 rounded-2xl flex items-center justify-center mb-6 text-black shadow-lg shadow-gold-500/20">
                                <i data-lucide="plane-landing" width="32"></i>
                            </div>
                            <h3 class="text-3xl font-black mb-4 text-white" data-i18n="services_page.airport_pickup_title">Airport VIP Pickup</h3>
                            <p class="text-gray-300 mb-8 leading-relaxed" data-i18n="services_page.airport_pickup_desc">Arrival in style. Our chauffeur will greet you at the gate, handle your luggage, and whisk you away in the car of your choice.</p>
                            <button onclick="openServiceWhatsApp('Airport Pickup')" class="w-fit px-8 py-4 bg-white/10 hover:bg-gold-500 hover:text-black text-white rounded-xl font-bold backdrop-blur-md border border-white/10 transition-all flex items-center gap-2">
                                <span data-i18n="services_page.book_btn">Request Service</span> <i data-lucide="arrow-right" width="18"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Service 2: Drop-off -->
                    <div class="group relative bg-royal-900 rounded-[2.5rem] overflow-hidden border border-royal-800 hover:border-gold-500/50 transition-all duration-500">
                        <div class="absolute inset-0">
                            <img src="https://i.pinimg.com/736x/8e/bc/0a/8ebc0a6b579135044439121782298642.jpg" class="w-full h-full object-cover opacity-40 group-hover:scale-105 transition-transform duration-700">
                            <div class="absolute inset-0 bg-gradient-to-t from-royal-900 via-royal-900/50 to-transparent"></div>
                        </div>
                        <div class="relative p-10 flex flex-col h-full min-h-[400px] justify-end">
                            <div class="w-16 h-16 bg-royal-800 border border-gold-500/30 rounded-2xl flex items-center justify-center mb-6 text-gold-500 shadow-lg">
                                <i data-lucide="map-pin" width="32"></i>
                            </div>
                            <h3 class="text-3xl font-black mb-4 text-white" data-i18n="services_page.dropoff_title">Point-to-Point Transfer</h3>
                            <p class="text-gray-300 mb-8 leading-relaxed" data-i18n="services_page.dropoff_desc">Seamless travel to any destination in Morocco. Whether it's a hotel, business meeting, or a private event, we ensure you arrive on time.</p>
                            <button onclick="openServiceWhatsApp('Point-to-Point Transfer')" class="w-fit px-8 py-4 bg-white/10 hover:bg-gold-500 hover:text-black text-white rounded-xl font-bold backdrop-blur-md border border-white/10 transition-all flex items-center gap-2">
                                <span data-i18n="services_page.book_btn">Request Service</span> <i data-lucide="arrow-right" width="18"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Service 3: Chauffeur -->
                    <div class="group relative bg-royal-900 rounded-[2.5rem] overflow-hidden border border-royal-800 hover:border-gold-500/50 transition-all duration-500">
                        <div class="absolute inset-0">
                            <img src="https://i.pinimg.com/736x/c7/2a/3a/c72a3a1f18536173499407983637651a.jpg" class="w-full h-full object-cover opacity-40 group-hover:scale-105 transition-transform duration-700">
                            <div class="absolute inset-0 bg-gradient-to-t from-royal-900 via-royal-900/50 to-transparent"></div>
                        </div>
                        <div class="relative p-10 flex flex-col h-full min-h-[400px] justify-end">
                            <div class="w-16 h-16 bg-royal-800 border border-gold-500/30 rounded-2xl flex items-center justify-center mb-6 text-gold-500 shadow-lg">
                                <i data-lucide="user-check" width="32"></i>
                            </div>
                            <h3 class="text-3xl font-black mb-4 text-white" data-i18n="services_page.chauffeur_title">Personal Chauffeur</h3>
                            <p class="text-gray-300 mb-8 leading-relaxed" data-i18n="services_page.chauffeur_desc">Hire a professional driver for the day. Perfect for business executives or tourists who want to relax and enjoy the ride without driving.</p>
                            <button onclick="openServiceWhatsApp('Personal Chauffeur')" class="w-fit px-8 py-4 bg-white/10 hover:bg-gold-500 hover:text-black text-white rounded-xl font-bold backdrop-blur-md border border-white/10 transition-all flex items-center gap-2">
                                <span data-i18n="services_page.book_btn">Request Service</span> <i data-lucide="arrow-right" width="18"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Service 4: Event Transport -->
                    <div class="group relative bg-royal-900 rounded-[2.5rem] overflow-hidden border border-royal-800 hover:border-gold-500/50 transition-all duration-500">
                        <div class="absolute inset-0">
                            <img src="https://i.pinimg.com/736x/88/2c/3f/882c3f56e927c945143323068571746c.jpg" class="w-full h-full object-cover opacity-40 group-hover:scale-105 transition-transform duration-700">
                            <div class="absolute inset-0 bg-gradient-to-t from-royal-900 via-royal-900/50 to-transparent"></div>
                        </div>
                        <div class="relative p-10 flex flex-col h-full min-h-[400px] justify-end">
                            <div class="w-16 h-16 bg-royal-800 border border-gold-500/30 rounded-2xl flex items-center justify-center mb-6 text-gold-500 shadow-lg">
                                <i data-lucide="glass-water" width="32"></i>
                            </div>
                            <h3 class="text-3xl font-black mb-4 text-white" data-i18n="services_page.events_title">Event & Wedding Fleet</h3>
                            <p class="text-gray-300 mb-8 leading-relaxed" data-i18n="services_page.events_desc">Make a grand entrance. We provide coordinated convoys of luxury vehicles for weddings, red carpet events, and corporate delegations.</p>
                            <button onclick="openServiceWhatsApp('Event Transport')" class="w-fit px-8 py-4 bg-white/10 hover:bg-gold-500 hover:text-black text-white rounded-xl font-bold backdrop-blur-md border border-white/10 transition-all flex items-center gap-2">
                                <span data-i18n="services_page.book_btn">Request Service</span> <i data-lucide="arrow-right" width="18"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Custom Request Banner -->
                <div class="bg-gradient-to-r from-gold-600 to-gold-400 rounded-[2rem] p-12 text-center shadow-2xl shadow-gold-500/20 relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>
                    <div class="relative z-10">
                        <h3 class="text-3xl md:text-4xl font-black text-black mb-6" data-i18n="services_page.custom_title">Have a Specific Request?</h3>
                        <p class="text-black/80 text-lg mb-8 max-w-2xl mx-auto font-medium" data-i18n="services_page.custom_desc">Our concierge team is available 24/7 to fulfill your unique requirements.</p>
                        <button onclick="openGeneralWhatsApp()" class="bg-black text-white px-10 py-5 rounded-xl font-bold hover:scale-105 transition-transform shadow-xl flex items-center gap-3 mx-auto">
                            <i data-lucide="message-circle" width="20"></i> <span data-i18n="services_page.contact_team">Chat with Team</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- BOOKING VIEW -->
    <div id="booking-view" class="view-section pt-32 pb-20 bg-cream-100 min-h-screen">
        <div class="max-w-6xl mx-auto px-6">
            <button onclick="switchView('fleet')" class="group flex items-center gap-3 text-royal-600 hover:text-gold-600 mb-10 font-bold transition-colors uppercase tracking-widest text-xs">
                <div class="w-8 h-8 rounded-full border border-royal-200 group-hover:border-gold-500 flex items-center justify-center transition-colors">
                    <i data-lucide="arrow-left" width="14"></i>
                </div>
                <span data-i18n="booking.back">Back to Fleet</span>
            </button>

            <div class="flex flex-col lg:flex-row gap-12">
                <!-- Left: Form -->
                <div class="flex-1 space-y-10">
                    <!-- Car Header -->
                    <div id="booking-car-header" class="bg-white p-8 rounded-[2rem] shadow-xl shadow-gray-200/50 border border-white flex flex-col md:flex-row gap-8 items-center relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-gold-100 rounded-bl-[100px] -z-0"></div>
                        <!-- Populated by JS -->
                    </div>

                    <!-- Personal Details -->
                    <div class="bg-white p-10 rounded-[2rem] shadow-xl shadow-gray-200/50 border border-white relative">
                        <h3 class="text-2xl font-black text-royal-900 mb-8 flex items-center gap-3">
                            <span class="w-10 h-10 rounded-xl bg-gold-100 flex items-center justify-center text-gold-600"><i data-lucide="user"></i></span>
                            <span data-i18n="booking.personal">Personal Details</span>
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div>
                                <label class="block text-xs font-bold text-gray-400 uppercase tracking-wider mb-3" data-i18n="booking.name">Full Name</label>
                                <input type="text" id="cust-name" class="w-full px-5 py-4 rounded-xl border border-gray-200 focus:border-gold-500 focus:ring-4 focus:ring-gold-500/10 outline-none bg-gray-50 font-medium transition-all" placeholder="Ex: John Doe">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-400 uppercase tracking-wider mb-3" data-i18n="booking.phone">WhatsApp Number</label>
                                <input type="tel" id="cust-phone" class="w-full px-5 py-4 rounded-xl border border-gray-200 focus:border-gold-500 focus:ring-4 focus:ring-gold-500/10 outline-none bg-gray-50 font-medium transition-all" placeholder="Ex: +971 50 123 4567">
                            </div>
                        </div>
                    </div>

                    <!-- Date Selection -->
                    <div class="bg-white p-10 rounded-[2rem] shadow-xl shadow-gray-200/50 border border-white">
                        <h3 class="text-2xl font-black text-royal-900 mb-8 flex items-center gap-3">
                            <span class="w-10 h-10 rounded-xl bg-gold-100 flex items-center justify-center text-gold-600"><i data-lucide="calendar"></i></span>
                            <span data-i18n="booking.dates">Rental Duration</span>
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div>
                                <label class="block text-xs font-bold text-gray-400 uppercase tracking-wider mb-3" data-i18n="booking.startDate">Pick-up Date</label>
                                <input type="date" id="start-date" onchange="calculateBooking()" class="w-full px-5 py-4 rounded-xl border border-gray-200 focus:border-gold-500 focus:ring-4 focus:ring-gold-500/10 outline-none bg-gray-50 font-medium transition-all">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-400 uppercase tracking-wider mb-3" data-i18n="booking.endDate">Drop-off Date</label>
                                <input type="date" id="end-date" onchange="calculateBooking()" class="w-full px-5 py-4 rounded-xl border border-gray-200 focus:border-gold-500 focus:ring-4 focus:ring-gold-500/10 outline-none bg-gray-50 font-medium transition-all">
                            </div>
                        </div>
                        <div class="mt-8 p-6 bg-gradient-to-r from-gold-50 to-white rounded-2xl border border-gold-100 flex justify-between items-center">
                            <span class="text-gold-800 font-bold uppercase text-sm tracking-wide"><span data-i18n="booking.days">Total Days</span>:</span>
                            <span id="total-days" class="text-3xl font-black text-gold-600">1</span>
                        </div>
                    </div>
                </div>

                <!-- Right: Summary -->
                <div class="lg:w-[26rem]">
                    <div class="bg-royal-900 text-white p-8 rounded-[2rem] shadow-2xl shadow-royal-900/20 sticky top-32 border border-royal-800 relative overflow-hidden">
                        <!-- Glow effect -->
                        <div class="absolute top-0 right-0 w-64 h-64 bg-gold-500/10 rounded-full blur-[80px] -translate-y-1/2 translate-x-1/2 pointer-events-none"></div>
                        
                        <h3 class="text-xl font-bold mb-8 pb-6 border-b border-white/10 flex items-center gap-2" data-i18n="booking.summary">
                            Payment Summary
                        </h3>
                        
                        <div class="space-y-6 mb-10">
                            <div class="flex justify-between text-gray-400 text-sm font-medium">
                                <span data-i18n="booking.dailyRate">Daily Rate</span>
                                <span id="summary-daily-rate" class="text-white">DH 0</span>
                            </div>
                            
                            <div class="bg-white/5 rounded-2xl p-6 border border-white/5 backdrop-blur-sm">
                                <div class="text-[10px] text-gold-500 font-black uppercase mb-4 tracking-[0.2em]" data-i18n="booking.table_desc">Breakdown</div>
                                <div class="flex justify-between items-center mb-3 text-sm">
                                    <span class="text-gray-300" id="breakdown-text">0 x 1 Days</span>
                                    <span class="font-mono font-bold" id="breakdown-total">DH 0</span>
                                </div>
                                <!-- VAT Row Removed -->
                            </div>

                            <div class="flex justify-between items-end pt-6 border-t border-white/10">
                                <span class="font-bold text-lg text-gray-200" data-i18n="booking.total">Total</span>
                                <div class="text-right">
                                    <span class="block text-4xl font-black text-gold-400 tracking-tight" id="grand-total">DH 0</span>
                                    <span class="text-[10px] text-gray-500 uppercase tracking-wider font-bold">Total Price</span>
                                </div>
                            </div>
                        </div>

                        <button onclick="sendWhatsApp()" class="w-full btn-gold py-5 rounded-xl font-bold text-lg shadow-lg hover:shadow-gold-500/20 flex items-center justify-center gap-3 group">
                            <span data-i18n="booking.confirm">Book via WhatsApp</span>
                            <i data-lucide="message-circle" width="20" class="group-hover:rotate-12 transition-transform"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer id="footer" class="bg-black border-t border-royal-900 pt-24 pb-12 text-center md:text-left">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-16 mb-20">
                <div class="col-span-1 md:col-span-2">
                    <div class="flex items-center gap-3 justify-center md:justify-start mb-6">
                         <div class="w-10 h-10 bg-gold-500 rounded-lg flex items-center justify-center">
                            <span class="text-black font-black text-lg">YN</span>
                         </div>
                         <h3 class="text-3xl font-black text-white tracking-tight">YN<span class="text-gold-500">DRIVE</span>.</h3>
                    </div>
                    <p class="text-gray-500 max-w-sm leading-relaxed mx-auto md:mx-0">Redefining luxury mobility in Morocco. Experience the extraordinary with our world-class fleet.</p>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-8 uppercase tracking-widest text-sm">Contact</h4>
                    <ul class="space-y-4 text-gray-400">
                        <li class="flex items-center gap-4 justify-center md:justify-start group hover:text-gold-500 transition-colors cursor-pointer">
                            <div class="w-8 h-8 rounded-full bg-royal-900 flex items-center justify-center border border-royal-800 group-hover:border-gold-500 transition-colors"><i data-lucide="phone" width="14"></i></div> 
                            +212778036867
                        </li>
                        <li class="flex items-center gap-4 justify-center md:justify-start group hover:text-gold-500 transition-colors cursor-pointer">
                            <div class="w-8 h-8 rounded-full bg-royal-900 flex items-center justify-center border border-royal-800 group-hover:border-gold-500 transition-colors"><i data-lucide="mail" width="14"></i></div>
                            Youssef digital@gmail.com
                        </li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-8 uppercase tracking-widest text-sm">Links</h4>
                    <ul class="space-y-3 text-gray-500">
                        <li><a href="#" onclick="switchView('home')" class="hover:text-gold-500 transition-colors">Home</a></li>
                        <li><a href="#" onclick="switchView('fleet')" class="hover:text-gold-500 transition-colors">The Collection</a></li>
                        <li><a href="#" class="hover:text-gold-500 transition-colors">Terms & Conditions</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-royal-900 pt-10 flex flex-col md:flex-row justify-between items-center text-gray-600 text-sm gap-4">
                <div>© 2024 YN Drive Rental. All rights reserved.</div>
                <div class="flex gap-6">
                    <a href="#" class="hover:text-gold-500 transition-colors">Privacy Policy</a>
                    <a href="#" class="hover:text-gold-500 transition-colors">Cookie Policy</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA ---
        const CONFIG = {
            currency: { en: 'DH', ar: 'درهم' },
            contact: { phone: '+212778036867', email: 'Youssef digital@gmail.com' },
            whatsapp: '212778036867'
        };

        const TRANSLATIONS = {
            en: {
                nav: { home: 'Home', fleet: 'The Collection', services: 'Concierge', contact: 'Contact', help: 'Need help? Chat with us!' },
                hero: {
                    tag: 'PREMIUM CAR RENTAL MARRAKECH',
                    title: 'Drive the <span class="text-gradient">Extraordinary</span>',
                    subtitle: 'From the roar of a Ferrari to the silence of a Rolls-Royce. We curate the finest fleet for the world\'s most demanding drivers.',
                    cta: 'Explore Collection',
                    search_loc: 'Marrakech, Morocco',
                    search_date: 'Select Dates'
                },
                fleet: { title: 'The Royal Fleet', subtitle: 'Meticulously maintained. Delivered to your door.', book: 'Reserve Now', unavailable: 'On Loan' },
                services: {
                    title: 'Beyond Rental',
                    s1: 'Airport VIP', s1d: 'Tarmac meet & greet service.',
                    s2: 'Chauffeur', s2d: 'Professional drivers available.',
                    s3: '24/7 Support', s3d: 'Dedicated concierge team.',
                    s4: 'Door Delivery', s4d: 'Anywhere in Morocco.'
                },
                services_page: {
                    tag: 'Exclusive Services',
                    title: 'VIP Concierge',
                    subtitle: 'Experience seamless luxury mobility. From the tarmac to your destination, we handle every detail.',
                    airport_pickup_title: 'Airport VIP Pickup',
                    airport_pickup_desc: 'Arrival in style. Our chauffeur will greet you at the gate, handle your luggage, and whisk you away in the car of your choice.',
                    dropoff_title: 'Point-to-Point Transfer',
                    dropoff_desc: 'Seamless travel to any destination in Morocco. Whether it\'s a hotel, business meeting, or a private event, we ensure you arrive on time.',
                    chauffeur_title: 'Personal Chauffeur',
                    chauffeur_desc: 'Hire a professional driver for the day. Perfect for business executives or tourists who want to relax and enjoy the ride without driving.',
                    events_title: 'Event & Wedding Fleet',
                    events_desc: 'Make a grand entrance. We provide coordinated convoys of luxury vehicles for weddings, red carpet events, and corporate delegations.',
                    book_btn: 'Request Service',
                    custom_title: 'Have a Specific Request?',
                    custom_desc: 'Our concierge team is available 24/7 to fulfill your unique requirements.',
                    contact_team: 'Chat with Team'
                },
                booking: {
                    title: 'Configure Your Rental',
                    personal: 'Personal Details',
                    name: 'Full Name',
                    phone: 'WhatsApp Number',
                    dates: 'Rental Duration',
                    startDate: 'Pick-up Date',
                    endDate: 'Drop-off Date',
                    days: 'Days',
                    summary: 'Payment Summary',
                    dailyRate: 'Daily Rate',
                    total: 'Total Estimate',
                    confirm: 'Book via WhatsApp',
                    back: 'Back to Fleet',
                    table_desc: 'Pricing Schedule',
                    fill_alert: 'Please fill in all details correctly.'
                }
            },
            ar: {
                nav: { home: 'الرئيسية', fleet: 'المجموعة', services: 'خدمات خاصة', contact: 'اتصل بنا', help: 'هل تحتاج مساعدة؟ تحدث معنا!' },
                hero: {
                    tag: 'تأجير سيارات فاخرة في مراكش',
                    title: 'قُد <span class="text-gradient">الاستثناء</span>',
                    subtitle: 'من هدير الفيراري إلى سكون الرولز رويس. نختار أرقى الأساطيل لأكثر السائقين تطلباً في العالم.',
                    cta: 'استكشف المجموعة',
                    search_loc: 'مراكش، المغرب',
                    search_date: 'اختر التواريخ'
                },
                fleet: { title: 'الأسطول الملكي', subtitle: 'صيانة دقيقة. توصيل حتى باب منزلك.', book: 'احجز الآن', unavailable: 'مؤجرة' },
                services: {
                    title: 'أكثر من مجرد تأجير',
                    s1: 'استقبال المطار', s1d: 'خدمة كبار الشخصيات من المدرج.',
                    s2: 'سائق خاص', s2d: 'سائقون محترفون تحت طلبك.',
                    s3: 'دعم 24/7', s3d: 'فريق "كونسيرج" مخصص لك.',
                    s4: 'توصيل للباب', s4d: 'لأي مكان في المغرب.'
                },
                services_page: {
                    tag: 'خدمات حصرية',
                    title: 'خدمات الكونسيرج',
                    subtitle: 'استمتع بتجربة تنقل فاخرة وسلسة. من مدرج المطار إلى وجهتك، نهتم بكل التفاصيل.',
                    airport_pickup_title: 'استقبال كبار الشخصيات من المطار',
                    airport_pickup_desc: 'وصول أنيق. سيقوم سائقنا باستقبالك عند البوابة، والاهتمام بأمتعتك، ونقلك في السيارة التي تختارها.',
                    dropoff_title: 'نقل وتوصيل وجهات',
                    dropoff_desc: 'تنقل سلس إلى أي وجهة في المغرب. سواء كان فندقاً، اجتماع عمل، أو مناسبة خاصة، نضمن وصولك في الوقت المحدد.',
                    chauffeur_title: 'سائق خاص',
                    chauffeur_desc: 'استأجر سائقاً محترفاً ليوم كامل. مثالي لرجال الأعمال أو السياح الذين يرغبون في الاسترخاء والاستمتاع بالرحلة دون عناء القيادة.',
                    events_title: 'أسطول المناسبات والأعراس',
                    events_desc: 'سجل دخولاً ملكياً. نوفر مواكب منسقة من السيارات الفاخرة للأعراس، فعاليات السجادة الحمراء، والوفود الرسمية.',
                    book_btn: 'طلب الخدمة',
                    custom_title: 'لديك طلب خاص؟',
                    custom_desc: 'فريق الكونسيرج متاح 24/7 لتلبية متطلباتك الفريدة.',
                    contact_team: 'تحدث مع الفريق'
                },
                booking: {
                    title: 'إعداد الحجز',
                    personal: 'البيانات الشخصية',
                    name: 'الاسم الكامل',
                    phone: 'رقم الواتساب',
                    dates: 'مدة الإيجار',
                    startDate: 'تاريخ الاستلام',
                    endDate: 'تاريخ التسليم',
                    days: 'أيام',
                    summary: 'ملخص الدفع',
                    dailyRate: 'السعر اليومي',
                    total: 'الإجمالي التقديري',
                    confirm: 'حجز عبر الواتساب',
                    back: 'عودة للأسطول',
                    table_desc: 'جدول الأسعار',
                    fill_alert: 'الرجاء تعبئة جميع البيانات بشكل صحيح.'
                }
            }
        };

        const CARS = [
            { id: 1, make: 'Rolls-Royce', model: 'Ghost 2024', type: 'Luxury', price: 550, image: 'https://i.pinimg.com/1200x/c4/6d/0e/c46d0ef8a04b58cbe117f11d9f439369.jpg', features: ['Starlight Headliner', 'Massage Seats', 'Champagne Cooler'], passengers: 5, fuel: 'Petrol' },
            { id: 2, make: 'Range Rover', model: 'Vogue 2024', type: 'Sports SUV', price: 800, image: 'https://i.pinimg.com/736x/01/36/ce/0136ceeaa26a3c48c848566d3d3248f2.jpg', features: ['4.0L V8 Twin-Turbo', 'Carbon Fiber', 'Sport Mode'], passengers: 5, fuel: 'Petrol' },
            { id: 3, make: 'Ferrari', model: 'F8 Tributo', type: 'Supercar', price: 400, image: 'https://i.pinimg.com/736x/7d/09/27/7d0927ccf4abde395a6f4cc3096c16af.jpg', features: ['0-100km/h 2.9s', 'Convertible', 'Race Telemetry'], passengers: 5, fuel: 'Petrol' },
            { id: 4, make: 'Mercedes-AMG', model: 'G63', type: 'SUV', price: 1000, image: 'https://i.pinimg.com/736x/6a/b8/1c/6ab81c449e1b4c129e958cd48366f87a.jpg', features: ['Night Package', 'Burmester 3D', 'Massage Seats'], passengers: 5, fuel: 'Petrol' },
            { id: 5, make: 'Porsche', model: 'Taycan Turbo S', type: 'Electric', price: 900, image: 'https://i.pinimg.com/1200x/27/20/b2/2720b21c2005d1dc6e4cd090c8c81c20.jpg', features: ['Range 450km', 'Silent Drive', 'Futuristic HUD'], passengers: 4, fuel: 'Electric' },
            { id: 6, make: 'Bentley', model: 'Continental GT', type: 'Luxury', price: 400, image: 'https://i.pinimg.com/1200x/46/50/e2/4650e231ae9d2580d02949f45ad998d9.jpg', features: ['W12 Engine', 'Rotating Display', 'Quilted Leather'], passengers: 5, fuel: 'Petrol' }
        ];

        // --- STATE ---
        let currentLang = 'en';
        let currentCar = null;
        let selectedDays = 1;

        // --- INIT ---
        window.onload = function() {
            setTimeout(() => {
                document.getElementById('preloader').classList.add('fade-out');
            }, 1500);

            renderServices();
            renderFleet('home-fleet-grid');
            renderFleet('full-fleet-grid');
            updateLanguage();
            setupScrollReveal();
            
            lucide.createIcons();
        };

        // --- FUNCTIONS ---

        function toggleLanguage() {
            currentLang = currentLang === 'en' ? 'ar' : 'en';
            updateLanguage();
        }

        function updateLanguage() {
            const t = TRANSLATIONS[currentLang];
            document.documentElement.lang = currentLang;
            document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
            document.body.className = currentLang === 'ar' ? 'bg-cream-100 text-royal-900 rtl' : 'bg-cream-100 text-royal-900';

            // Update simple text elements
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const keys = el.getAttribute('data-i18n').split('.');
                let val = t;
                keys.forEach(k => val = val[k]);
                el.innerHTML = val;
            });

            // Update complex HTML elements if needed
            document.getElementById('hero-title').innerHTML = t.hero.title;
            document.getElementById('lang-label').innerText = currentLang === 'en' ? 'العربية' : 'English';
            
            // Re-render fleets to update currency/text
            renderServices();
            renderFleet('home-fleet-grid');
            renderFleet('full-fleet-grid');
            
            if(currentCar) setupBookingView(currentCar); // Refresh booking view text
            
            lucide.createIcons();
        }

        function switchView(viewName) {
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            document.getElementById(`${viewName}-view`).classList.add('active');
            
            // Mobile menu close
            document.getElementById('mobile-menu').classList.add('hidden');
            
            // Scroll to top
            window.scrollTo(0,0);
            
            if (viewName === 'home') {
                document.getElementById('navbar').classList.remove('glass-dark');
                document.getElementById('footer').style.display = 'block';
            } else if (viewName === 'fleet' || viewName === 'services') {
                document.getElementById('navbar').classList.add('glass-dark');
                document.getElementById('footer').style.display = 'block';
            } else {
                document.getElementById('navbar').classList.add('glass-dark');
                document.getElementById('footer').style.display = 'none';
            }
        }
        // Open Service WhatsApp Request
        function openServiceWhatsApp(serviceName) {
            const t = TRANSLATIONS[currentLang];
            const text = currentLang === 'ar'
                ? `مرحباً، أرغب في الاستفسار عن خدمة: ${serviceName}`
                : `Hello, I am interested in the service: ${serviceName}`;
            
            const whatsappUrl = `https://wa.me/${CONFIG.whatsapp}?text=${encodeURIComponent(text)}`;
            window.open(whatsappUrl, '_blank');
        }

        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }

        function renderServices() {
            const t = TRANSLATIONS[currentLang];
            const services = [
                { icon: 'plane', t: t.services.s1, d: t.services.s1d },
                { icon: 'user', t: t.services.s2, d: t.services.s2d },
                { icon: 'clock', t: t.services.s3, d: t.services.s3d },
                { icon: 'map-pin', t: t.services.s4, d: t.services.s4d },
            ];
            
            const html = services.map(s => `
                <div class="reveal-section bg-white p-10 rounded-[2rem] shadow-xl shadow-gray-200/50 card-hover-glow transition-transform duration-500 border border-white group h-full relative overflow-hidden">
                    <div class="absolute -right-10 -top-10 w-32 h-32 bg-gold-100 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                    <div class="w-16 h-16 bg-cream-50 rounded-2xl flex items-center justify-center mb-8 text-royal-900 group-hover:bg-gold-500 group-hover:text-black transition-all duration-300 relative z-10 shadow-lg">
                        <i data-lucide="${s.icon}" width="32"></i>
                    </div>
                    <h3 class="text-2xl font-black text-royal-900 mb-3 relative z-10">${s.t}</h3>
                    <p class="text-gray-500 leading-relaxed relative z-10">${s.d}</p>
                </div>
            `).join('');
            
            document.getElementById('services-grid').innerHTML = html;
        }

        function renderFleet(containerId) {
            const t = TRANSLATIONS[currentLang];
            const currency = CONFIG.currency[currentLang];
            
            const html = CARS.map(car => `
                <div class="reveal-section group relative bg-royal-900 rounded-[2.5rem] overflow-hidden border border-royal-800 card-hover-glow transition-all duration-500 hover:shadow-2xl hover:shadow-black/50">
                    <div class="relative h-80 overflow-hidden">
                        <div class="absolute top-5 left-5 z-20">
                            <h3 class="text-2xl font-black text-white leading-none">${car.make}</h3>
                            <p class="text-gold-500 font-bold tracking-widest text-xs uppercase mt-1">${car.model}</p>
                        </div>
                         <div class="absolute top-5 right-5 z-20 bg-black/50 backdrop-blur-md px-4 py-2 rounded-full border border-white/10">
                            <span class="text-white font-bold text-sm">${currency} ${car.price}</span>
                        </div>
                        
                        <img src="${car.image}" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700 ease-out" alt="${car.make}">
                        <div class="absolute inset-0 bg-gradient-to-t from-royal-900 via-transparent to-transparent opacity-90"></div>
                        
                        <div class="absolute bottom-0 left-0 w-full p-6 flex justify-between items-end">
                             <div class="flex gap-4 text-gray-400 text-xs font-medium">
                                <span class="flex items-center gap-1 bg-black/40 px-2 py-1 rounded-lg backdrop-blur-sm"><i data-lucide="gauge" width="12" class="text-gold-500"></i> Auto</span>
                                <span class="flex items-center gap-1 bg-black/40 px-2 py-1 rounded-lg backdrop-blur-sm"><i data-lucide="users" width="12" class="text-gold-500"></i> ${car.passengers}</span>
                             </div>
                        </div>
                    </div>
                    <div class="p-6 bg-royal-900 relative border-t border-white/5">
                        <button onclick="handleBook(${car.id})" class="w-full py-4 bg-white/5 hover:bg-gold-500 hover:text-black text-white rounded-2xl font-bold transition-all duration-300 flex items-center justify-center gap-2 group-hover:shadow-[0_0_20px_rgba(212,175,55,0.3)]">
                            ${t.fleet.book} <i data-lucide="arrow-right" width="16" class="group-hover:translate-x-1 transition-transform"></i>
                        </button>
                    </div>
                </div>
            `).join('');
            
            document.getElementById(containerId).innerHTML = html;
        }

        // --- BOOKING LOGIC ---
        
        function handleBook(carId) {
            currentCar = CARS.find(c => c.id === carId);
            setupBookingView(currentCar);
            switchView('booking');
        }

        function setupBookingView(car) {
            const featuresHtml = car.features.map(f => `<span class="text-[10px] uppercase tracking-wider bg-gold-50 px-3 py-2 rounded-lg text-gold-700 font-bold border border-gold-100">${f}</span>`).join('');
            
            document.getElementById('booking-car-header').innerHTML = `
                 <div class="relative z-10 w-full md:w-auto">
                    <img src="${car.image}" class="w-full md:w-64 h-40 object-cover rounded-2xl shadow-lg transform hover:scale-105 transition-transform duration-500">
                </div>
                <div class="relative z-10">
                    <h2 class="text-4xl font-black text-royal-900 mb-3">${car.make} <span class="text-gold-600 font-light">${car.model}</span></h2>
                    <div class="flex flex-wrap gap-2">${featuresHtml}</div>
                </div>
            `;
            
            calculateBooking();
        }

        function calculateBooking() {
            if (!currentCar) return;

            const startVal = document.getElementById('start-date').value;
            const endVal = document.getElementById('end-date').value;
            let days = 1;

            if (startVal && endVal) {
                const start = new Date(startVal);
                const end = new Date(endVal);
                const diffTime = Math.abs(end - start);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                days = diffDays > 0 ? diffDays : 1;
            }
            selectedDays = days;
            document.getElementById('total-days').innerText = days;

            const currency = CONFIG.currency[currentLang];
            const total = currentCar.price * days;
            const grandTotal = total; // Removed VAT calculation

            document.getElementById('summary-daily-rate').innerText = `${currency} ${currentCar.price}`;
            document.getElementById('breakdown-text').innerText = `${currentCar.price} x ${days}`;
            document.getElementById('breakdown-total').innerText = `${currency} ${total.toLocaleString()}`;
            // Removed VAT DOM update
            document.getElementById('grand-total').innerText = `${currency} ${grandTotal.toLocaleString()}`;
        }

        // Send Booking Request
        function sendWhatsApp() {
            const t = TRANSLATIONS[currentLang];
            const name = document.getElementById('cust-name').value;
            const phone = document.getElementById('cust-phone').value;
            const start = document.getElementById('start-date').value;
            const end = document.getElementById('end-date').value;

            if (!name || !phone || !start || !end) {
                alert(t.booking.fill_alert);
                return;
            }

            const currency = CONFIG.currency[currentLang];
            const total = currentCar.price * selectedDays;
            const grandTotal = total; // Removed VAT calculation

            const message = `
*New Luxury Booking Request* 👑
---------------------------
*Vehicle:* ${currentCar.make} ${currentCar.model}
*Daily Rate:* ${currency} ${currentCar.price}

*Guest Information:*
👤 Name: ${name}
📱 Contact: ${phone}

*Itinerary:*
📅 Pick-up: ${start}
📅 Drop-off: ${end}
⏳ Duration: ${selectedDays} Days

*💎 Total Estimate: ${currency} ${grandTotal.toLocaleString()}*
---------------------------
Sent via YN Drive Concierge`.trim();

            const whatsappUrl = `https://wa.me/${CONFIG.whatsapp}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // Open General WhatsApp Chat
        function openGeneralWhatsApp() {
            const t = TRANSLATIONS[currentLang];
            const text = currentLang === 'ar' 
                ? "مرحباً، أرغب في التحدث مع خدمة الكونسيرج."
                : "Hello, I would like to speak with the concierge service.";
            
            const whatsappUrl = `https://wa.me/${CONFIG.whatsapp}?text=${encodeURIComponent(text)}`;
            window.open(whatsappUrl, '_blank');
        }

        // --- UTILS ---
        
        function setupScrollReveal() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if(entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal-section').forEach(el => observer.observe(el));
        }

        // Navbar Glass Effect
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if (window.scrollY > 50) {
                nav.classList.add('glass-dark', 'py-3');
                nav.classList.remove('py-6');
            } else {
                if (document.getElementById('home-view').classList.contains('active')) {
                    nav.classList.remove('glass-dark', 'py-3');
                    nav.classList.add('py-6');
                }
            }
        });
    </script>
</body>

</html>
